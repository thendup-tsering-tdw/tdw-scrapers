require 'json'
require 'nokogiri'
require 'awesome_print'
require 'csv'

commands = []
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=78.9429400434252,178.62616467187502,-32.67191209160329,-158.87383532812498' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/en_CA/all-locations?bounds=45.10245082100545,151.785436,28.359789244384633,109.597936' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/en_CA/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/en_CA/all-locations?bounds=53.09963611377805,-53.477499999999964,20.35338986108977,-137.85249999999996' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/en_CA/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; _gat=1; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/en_CA/all-locations?bounds=74.69264815865144,-11.625,29.413180291461405,179.625' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/en_CA/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; _gat=1; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=64.64896177243871,82.29296875,1.288919465357384,-86.45703125' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=81.02548198757458,88.280517578125,-22.0211825050038,110.780517578125' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=74.0175173144075,104.353515625,27.209012136113593,-64.396484375' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=71.12149953973147,86.248046875,18.284962895363442,-82.501953125' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=64.64896177243871,82.29296875,1.288919465357384,-86.45703125' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=60.022764855685104,-11.651123046875,-8.664331619120906,179.598876953125' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=53.04339416632254,-28.306396484375,20.26560039132559,-112.681396484375' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=52.1626799850694,-47.993896484375,18.899324818175575,-132.368896484375' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=51.565667488556294,152.045166015625,17.982183721797874,67.670166015625' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=-16.337744338811056,178.895751953125,-50.48316521435261,94.520751953125' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=45.60990582513496,14.781319546875011,37.76604579640672,-6.312430453124989' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=48.15481719990595,16.97858517187501,40.65115778972352,-4.115164828124989' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=48.66529805180109,16.59406368750001,41.2320694922751,-4.499686312499989' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=50.03923645384909,17.07746212500001,42.7991281374598,-4.016287874999989' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=50.62132596077186,20.57111446875001,43.46458092752222,-0.5226355312499891' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=52.04885827158536,3.303353238281261,50.40125194539347,-1.970084261718739' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=52.23932125163912,3.003975796875011,50.59866736312457,-2.269461703124989' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=52.29142983011488,23.01007931250001,45.37887070739878,1.916329312500011' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=52.878826860769934,6.118599820312511,49.58551955768661,-4.428275179687489' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=53.03601022461276,11.751839566406261,49.75438747378039,1.204964566406261' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=53.03601022461276,11.751839566406261,49.75438747378039,1.204964566406261' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=53.03601022461276,11.751839566406261,49.75438747378039,1.204964566406261' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=53.03601022461276,11.751839566406261,49.75438747378039,1.204964566406261' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=53.03601022461276,11.751839566406261,49.75438747378039,1.204964566406261' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=53.03601022461276,11.751839566406261,49.75438747378039,1.204964566406261' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=55.21938802857967,11.249215054687511,48.75229475360829,-9.844534945312489' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=55.717596056770944,12.106148648437511,49.32843282569705,-8.987601351562489' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=55.919737396330376,18.73914425390626,49.562365706324485,-2.354605746093739' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=56.53200069617237,21.35114376562501,50.27152370619791,0.25739376562501093' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=58.150199366922365,28.18463985937501,45.21658214004754,-14.002860140624989' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=58.51356705955225,22.63654415625001,52.5727604698661,1.542794156250011' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=58.588083402124596,25.67426388281251,45.80171110600847,-16.51323611718749' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=59.11373624944531,18.66498653906251,56.30411941070247,8.118111539062511' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=59.69248987416166,25.47650997656251,47.282675268690994,-16.71099002343749' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=59.83356756307754,18.68695919531251,57.08232095851781,8.140084195312511' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=60.95957676942261,23.03754513281251,55.42566187927529,1.943795132812511' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=62.265174049275466,23.08149044531251,56.953736416168894,1.987740445312511' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=63.0074395369893,26.59711544531251,51.77098350911747,-15.590384554687489' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=63.90096570147209,47.56452267187501,38.41453869254988,-36.81047732812499' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=63.925121049553816,23.37812130468751,58.901595143368716,2.284371304687511' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=65.61504914545975,23.97138302343751,60.890171464304416,2.877633023437511' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=67.12499462323348,25.01508419531251,62.6714319019331,3.921334195312511' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")
commands.push("curl 'http://www.teslamotors.com/all-locations?bounds=68.72228410746904,27.73969357031251,64.5600634709819,6.645943570312511' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8,fr;q=0.6' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.155 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Referer: http://www.teslamotors.com/findus' -H 'Cookie: buy_flow_locale=en_CA; SESS7bbf44f27bea4eacb69d00a82a5f84cd=wWh9zidFhPTnjeDUa9hKIzJAYhrUTJftcfoSQDjp62Y; BIGipServerwwwb-80=723525898.20480.0000; has_js=1; _ga=GA1.2.745329111.1439826209; NO_CACHE=Y' -H 'Connection: keep-alive' --compressed -s")

allJSON = []
commands.each do |command|
  result = `#{command}`
  json = JSON.load(result)
  if json == nil
    json = []
  end
  allJSON = allJSON + json
end

# puts allJSON.length
allJSON = allJSON.uniq
# puts allJSON.length



headers = allJSON[0].keys
headers.unshift("id")
allJSON.each_with_index do |loc,idx|
  index = idx + 1
  CSV($stdout, headers: headers, write_headers: true) do |out|
    out << CSV::Row.new(headers, []).tap do |row|
      row['id'] = index
      headers.each_with_index do |key,i|
        if i > 0
          row[key] = loc[key].to_s.gsub(/\r?\n/, ", ")
        end
      end
    end
  end
end
